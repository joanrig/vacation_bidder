<%= render 'layout' %>


<br><br>
<div class="center" style="text-align:center">
  <div class="container">
    <div class="panel-a" text-black>
      <div class="panel-body">
        <div class="form" style="color:midnightblue">


        <%= form_for attraction do |f| %>

        <div class="field<%= ' field_with_errors' if attraction.errors[:name].any? %>">
          <div class="center" style="text-align:center">
            <%= f.label :name %><br>
            <%= f.text_field :name %>
          </div>
        </div>
        <br>
        <br>

        <h2>Categories</h2>
        <% if attraction.categories %>
          <%= f.collection_check_boxes :category_ids, attraction.categories.uniq, :id, :name do |b| %>
            <div class="collection-check-box" style="font-size:1.25em">
              <%= b.check_box %>
              <%= b.label %>
            </div>
          <% end %>
        <% else %>
          <h4>This attraction doesn't have any categories yet. Let's add some.</h4>
        <% end %><br>

        <%= f.fields_for category_attraction, url: category_attractions_path(@category) do |ca| %>
          <p><%= ca.label :category_id, "Update Categories" %></p><br>
            <%= ca.collection_select :category_id, @all_categories.uniq.sort_by(&:name), :id, :name, :prompt => "Select One" %>
        <% end %>
        <br>
        <br>
        <br>

        <div class="field<%= ' field_with_errors' if attraction.errors[:website].any? %>">
          <div class="center" style="text-align:center">
            <%= f.label :website %><br>
            <%= f.text_field :website %>
          </div>
        </div>
        <br>
        <br>

        <div class="field<%= ' field_with_errors' if attraction.errors[:city].any? %>">
          <div class="center" style="text-align:center">
            <%= f.label :city %><br>
            <%= f.text_field :city %>
          </div>
        </div>
        <br>
        <br>

        <div class="field<%= ' field_with_errors' if attraction.errors[:state].any? %>">
          <div class="center" style="text-align:center">
            <%= f.label :state %><br>
            <%= select_tag :state, options_for_select(us_states) %>
          </div>
        </div>
        <br>
        <br>

        <div class="field<%= ' field_with_errors' if @attraction.errors[:country].any? %>">
          <div class="center" style="text-align:center">
            <%= f.label :country %><br>
            <%= f.text_field :country %>
          </div>
        </div>
        <br>
        <br>


        <%= f.submit %>

        <% end %>
        <br><br><br><br><br>


      </div>
    </div>
  </div>
</div>
